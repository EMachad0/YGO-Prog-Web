(function(t){function e(e){for(var a,s,o=e[0],c=e[1],l=e[2],u=0,f=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&f.push(i[s][0]),i[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(f.length)f.shift()();return n.push.apply(n,l||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],a=!0,o=1;o<r.length;o++){var c=r[o];0!==i[c]&&(a=!1)}a&&(n.splice(e--,1),t=s(s.s=r[0]))}return t}var a={},i={app:0},n=[];function s(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=a,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(r,a,function(e){return t[e]}.bind(null,a));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;n.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"03ac":function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return i}));var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("router-view")],1)},i=[]},"11a8":function(t,e,r){},"199c":function(t,e){},"23be":function(t,e,r){"use strict";var a=r("199c"),i=r.n(a);e["default"]=i.a},"23c2":function(t,e,r){"use strict";r("11a8")},"385b":function(t,e,r){"use strict";r("9104")},"3dfd":function(t,e,r){"use strict";var a=r("03ac"),i=r("23be"),n=r("2877"),s=Object(n["a"])(i["default"],a["a"],a["b"],!1,null,null,null);e["default"]=s.exports},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),i=r("3dfd"),n=r("8c4f"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Base",{attrs:{guild:t.guild,user:t.user}},[r("h1",{staticClass:"text-center"},[t._v("Collection")]),r("div",{staticClass:"container"},[r("div",{staticClass:"row p-2"},[r("div",{staticClass:"col"},[r("label",{staticClass:"form-label",attrs:{for:"sort-param"}},[t._v("Sort by")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.field,expression:"filters.field"}],staticClass:"form-control",attrs:{id:"sort-param"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filters,"field",e.target.multiple?r:r[0])},t.update_deck_list]}},[r("option",{attrs:{selected:""}},[t._v("name")]),r("option",[t._v("atk")]),r("option",{attrs:{value:"dff"}},[t._v("def")]),r("option",[t._v("level")]),r("option",[t._v("scale")]),r("option",[t._v("link_val")])])]),r("div",{staticClass:"col"},[r("label",{staticClass:"form-label",attrs:{for:"sort-order"}},[t._v("Order")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.dir,expression:"filters.dir"}],staticClass:"form-control",attrs:{id:"sort-order"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filters,"dir",e.target.multiple?r:r[0])},t.update_deck_list]}},[r("option",{attrs:{selected:""}},[t._v("asc")]),r("option",[t._v("desc")])])]),r("div",{staticClass:"col"},[r("label",{staticClass:"form-label",attrs:{for:"filter-name"}},[t._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.name,expression:"filters.name"}],staticClass:"form-control",attrs:{type:"text",id:"filter-name",placeholder:"Blue-Eyes White Dragon"},domProps:{value:t.filters.name},on:{change:t.update_deck_list,input:function(e){e.target.composing||t.$set(t.filters,"name",e.target.value)}}})])]),r("div",{staticClass:"row",attrs:{id:"card-list"}},[r("div",{class:t.loader_class,attrs:{id:"loader"}}),t._l(t.cards,(function(e,a){return r("div",{key:a,staticClass:"col-md-2 m-0 p-0"},[r("a",{attrs:{href:"https://db.ygoprodeck.com/card/?search="+e.card_cod,target:"_blank"}},[r("img",{staticClass:"img-fluid",attrs:{src:t.get_img(e.cod_img),alt:"",loading:"lazy",draggable:"false"}})])])}))],2)])])},o=[],c=(r("99af"),r("b0c0"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"container-fluid bg-dark",attrs:{id:"nav"}},[r("header",{staticClass:"container d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-4"},[t._m(0),r("ul",{staticClass:"nav col-12 col-md-auto mb-2 justify-content-center mb-md-0"},[r("li",[r("router-link",{staticClass:"nav-link px-2 link-light",attrs:{to:"/collection/"+t.guild+"/"+t.user}},[t._v("Collection")])],1),r("li",[r("router-link",{staticClass:"nav-link px-2 link-light",attrs:{to:"/deckbuilder/"+t.guild+"/"+t.user}},[t._v("Deck Builder")])],1)]),r("div",{staticClass:"col-md-3 text-end"})])]),r("main",{staticClass:"container-fluid min-vh-100"},[t._t("default")],2),t._m(1)])}),l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"d-flex align-items-center col-md-3 mb-2 mb-md-0 text-white text-decoration-none"},[a("img",{staticClass:"bi me-2",attrs:{src:r("cf05"),alt:"",width:"32",height:"32"}})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("footer",{staticClass:"container-fluid bg-dark mt-5",attrs:{id:"footer"}},[r("div",{staticClass:"container py-3 text-white"},[r("a",{staticClass:"mb-1",attrs:{href:"https://github.com/EMachad0"}},[t._v(" Â© Eliton Machado")])])])}],d={name:"Base",props:{guild:String,user:String}},u=d,f=(r("a990"),r("2877")),m=Object(f["a"])(u,c,l,!1,null,null,null),p=m.exports,v=r("bc3a"),g=r.n(v),_={name:"Collection",components:{Base:p},data:function(){return{cards:[],filters:{name:"",field:"name",dir:"asc"},loader_class:""}},methods:{update_deck_list:function(){var t=this,e="http://127.0.0.1:5000/api/?&guild=".concat(this.guild,"&user=").concat(this.user,"&limit=30&name=%").concat(this.filters.name,"%&field=").concat(this.filters.field,"&dir=").concat(this.filters.dir);console.log(e),this.loader_class="",g.a.get(e).then((function(e){t.cards=e.data,t.loader_class="hide"}))},get_img:function(t){return"https://storage.googleapis.com/ygoprodeck.com/pics/".concat(t,".jpg")}},mounted:function(){console.log(this.guild,this.user),this.update_deck_list()},props:{guild:String,user:String}},h=_,b=(r("385b"),Object(f["a"])(h,s,o,!1,null,"10f34854",null)),k=b.exports,C=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Base",{attrs:{guild:t.guild,user:t.user}},[r("h1",{staticClass:"text-center"},[t._v("Deck Builder")]),r("div",{staticClass:"container-fluid row p-2 d-flex justify-content-center"},[r("div",{staticClass:"col-3 text-center"},[r("img",{staticClass:"img-fluid w-100",attrs:{src:t.get_img(t.display),alt:"",draggable:"false",id:"display"}})]),r("div",{staticClass:"col-6"},[r("Deck",{ref:"deck",on:{cardOver:function(e){t.display=e}}})],1),r("div",{staticClass:"col-3"},[r("div",{staticClass:"row p-2"},[r("div",{staticClass:"col"},[r("label",{staticClass:"form-label",attrs:{for:"sort-param"}},[t._v("Sort by")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.field,expression:"filters.field"}],staticClass:"form-control",attrs:{id:"sort-param"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filters,"field",e.target.multiple?r:r[0])},t.update_deck_list]}},[r("option",{attrs:{selected:""}},[t._v("name")]),r("option",[t._v("atk")]),r("option",{attrs:{value:"dff"}},[t._v("def")]),r("option",[t._v("level")]),r("option",[t._v("scale")]),r("option",[t._v("link_val")])])]),r("div",{staticClass:"col"},[r("label",{staticClass:"form-label",attrs:{for:"sort-order"}},[t._v("Order")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.dir,expression:"filters.dir"}],staticClass:"form-control",attrs:{id:"sort-order"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filters,"dir",e.target.multiple?r:r[0])},t.update_deck_list]}},[r("option",{attrs:{selected:""}},[t._v("asc")]),r("option",[t._v("desc")])])]),r("div",{staticClass:"col"},[r("label",{staticClass:"form-label",attrs:{for:"filter-name"}},[t._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.name,expression:"filters.name"}],staticClass:"form-control",attrs:{type:"text",id:"filter-name",placeholder:"Blue-Eyes White Dragon"},domProps:{value:t.filters.name},on:{change:t.update_deck_list,input:function(e){e.target.composing||t.$set(t.filters,"name",e.target.value)}}})])]),r("div",{staticClass:"row overflow-auto m-1 box",staticStyle:{height:"1000px"},attrs:{id:"card-list"}},t._l(t.cards,(function(e,a){return r("div",{key:a,staticClass:"row p-0 box",staticStyle:{"margin-left":"0"}},[r("div",{staticClass:"col-3 m-0 p-0",on:{mouseover:function(r){t.display=e.cod_img}}},[r("img",{staticClass:"img-fluid draggable",attrs:{src:t.get_img(e.cod_img),alt:"",id:"card-list_"+e.card_cod,draggable:"true"},on:{dragstart:function(r){return t.DragDrop.onDragStart(r,e)},contextmenu:function(r){return t.right_click(r,e)}}})]),r("div",{staticClass:"col-9 text-center align-middle"},[r("a",{attrs:{href:"https://db.ygoprodeck.com/card/?search="+e.card_cod,target:"_blank"}},[r("h6",[t._v(t._s(e.name))])]),r("div",{staticClass:"h-75 m-0"},[r("div",[t._v(" "+t._s(e.type)+" "),e.level?r("span",[t._v(" Lv "+t._s(e.level)+" ")]):t._e(),e.scale?r("span",[t._v(" Sc "+t._s(e.scale)+" ")]):t._e(),e.link_val?r("span",[t._v(" Lk "+t._s(e.link_val)+" ")]):t._e()]),r("div",[t._v(" "+t._s(e.race)+" "),e.attribute?r("span",[t._v(" / "+t._s(e.attribute)+" ")]):t._e()]),r("div",[t._v(" "+t._s(e.quantity)+" in collection ")]),e.limit?r("div",[0===e.limit?r("span",[t._v(" Forbidden ")]):t._e(),1===e.limit?r("span",[t._v(" Limited ")]):t._e(),2===e.limit?r("span",[t._v(" Semi-Limited ")]):t._e(),t._v(" to "+t._s(e.limit)+" ")]):t._e()])])])})),0)])])])},y=[],x=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"row mt-1"},[t._m(0),r("div",{staticClass:"col text-end"},[r("button",{staticClass:"btn btn-outline-light btn-sm",attrs:{type:"button"},on:{click:function(e){t.TextDownload.download("YGO-Prog-deck.ydk",t.get_deck_text())}}},[t._v("Export ")])])]),r("div",{staticClass:"row deck main-deck",attrs:{id:"main"},on:{dragover:function(e){return t.DragDrop.onDragOver(e)},drop:function(e){return t.onDrop(e)}}},t._l(t.deck["main"],(function(e,a){return r("div",{key:a,staticClass:"col-card m-0 p-1"},[r("img",{staticClass:"img-fluid draggable",attrs:{src:t.get_img(e.card_cod),alt:"",draggable:"true"},on:{dragstart:function(r){t.DragDrop.onDragStart(r,e),t.removing=1},dragend:function(e){return t.remove_card("main",a)},contextmenu:function(e){e.preventDefault(),t.remove_card("main",a)},mouseover:function(r){return t.$emit("cardOver",e.cod_img)}}})])})),0),t._m(1),r("div",{staticClass:"row deck extra-deck",attrs:{id:"extra"},on:{dragover:function(e){return t.DragDrop.onDragOver(e)},drop:function(e){return t.onDrop(e)}}},t._l(t.deck["extra"],(function(e,a){return r("div",{key:a,staticClass:"col-card m-0 p-1"},[r("img",{staticClass:"img-fluid draggable",attrs:{src:t.get_img(e.card_cod),alt:"",draggable:"true"},on:{dragstart:function(r){t.DragDrop.onDragStart(r,e),t.removing=1},dragend:function(e){return t.remove_card("extra",a)},contextmenu:function(e){e.preventDefault(),t.remove_card("extra",a)},mouseover:function(r){return t.$emit("cardOver",e.cod_img)}}})])})),0),t._m(2),r("div",{staticClass:"row deck side-deck",attrs:{id:"side"},on:{dragover:function(e){return t.DragDrop.onDragOver(e)},drop:function(e){return t.onDrop(e)}}},t._l(t.deck["side"],(function(e,a){return r("div",{key:a,staticClass:"col-card m-0 p-1"},[r("img",{staticClass:"img-fluid draggable",attrs:{src:t.get_img(e.card_cod),alt:"",draggable:"true"},on:{dragstart:function(r){t.DragDrop.onDragStart(r,e),t.removing=1},dragend:function(e){return t.remove_card("side",a)},contextmenu:function(e){e.preventDefault(),t.remove_card("side",a)},mouseover:function(r){return t.$emit("cardOver",e.cod_img)}}})])})),0)])},D=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col"},[r("h5",[t._v(" Main Deck")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row mt-1"},[r("h5",[t._v("Extra Deck")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row mt-1"},[r("h5",[t._v("Side Deck")])])}],w=r("3835"),O=(r("caad"),r("2532"),r("a434"),r("4de4"),r("159b"),r("4fad"),r("4e82"),["main","extra","side","card-list"]);function S(t){t.preventDefault()}function j(t,e){var r=JSON.stringify(e);t.dataTransfer.setData("item",r),t.dataTransfer.setData("id",t.target.id)}function $(t){t.preventDefault(),t.dataTransfer.clearData()}var E={onDragOver:S,onDragStart:j,onDrop:$,drop_zones:O};function B(t,e){var r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8, "+encodeURIComponent(e)),r.setAttribute("download",t),document.body.appendChild(r),r.click(),document.body.removeChild(r)}var N={download:B},P={name:"Deck",data:function(){return{deck:{main:[],extra:[],side:[]},extra_deck_types:["Fusion Monster"],removing:0,DragDrop:E,TextDownload:N}},methods:{onDrop:function(t){t.preventDefault();var e=t.dataTransfer.getData("item"),r=JSON.parse(e),a=t.target;while(!E.drop_zones.includes(a.id))a=a.parentNode;console.log(a.id);var i=a.id;this.add_card(i,r)},add_card:function(t,e){if(!(this.deck[t].length>=("main"===t?60:15))){if("extra"===t){if(!this.extra_deck_types.includes(e.type))return}else if(("main"===t||"side"===t)&&this.extra_deck_types.includes(e.type))return;var r=this.get_amount_in_deck(t,e.card_cod),a=e.limit?e.limit:3;e.quantity!==r&&r!==a&&(this.deck[t].push(e),this.sort_deck())}},get_deck_id:function(t){return this.extra_deck_types.includes(t)?"extra":"main"},remove_card:function(t,e){this.removing=0,this.deck[t].splice(e,1)},get_amount_in_deck:function(t,e){var r=0;return"extra"===t?r+=this.deck["extra"].filter((function(t){return t.card_cod===e})).length:"side"!==t&&"main"!==t||(r+=this.deck["side"].filter((function(t){return t.card_cod===e})).length,r+=this.deck["main"].filter((function(t){return t.card_cod===e})).length),r-this.removing},get_deck_text:function(){var t="";return Object.entries(this.deck).forEach((function(e){var r=Object(w["a"])(e,2),a=r[0],i=r[1];t+=("side"===a?"!":"#")+a+"\n",i.forEach((function(e){return t+=e.card_cod+"\n"})),t+="\n"})),console.log(t),t},sort_deck:function(){for(var t in this.deck)this.deck[t].sort((function(t,e){var r=t.level,a=e.level;return r===a?t.name<=e.name?-1:1:null==r?1:null==a||r>a?-1:1}))},get_img:function(t){return"https://storage.googleapis.com/ygoprodeck.com/pics/".concat(t,".jpg")}}},T=P,M=(r("ceca"),Object(f["a"])(T,x,D,!1,null,"7b199e54",null)),A=M.exports,J={name:"DeckBuilder",components:{Base:p,Deck:A},data:function(){return{cards:[],filters:{name:"",field:"name",dir:"asc"},loader_class:"",display:7089711,DragDrop:E,Deck:A}},methods:{update_deck_list:function(){var t=this,e="http://127.0.0.1:5000/api/?&guild=".concat(this.guild,"&user=").concat(this.user,"&name=%").concat(this.filters.name,"%&field=").concat(this.filters.field,"&dir=").concat(this.filters.dir);this.loader_class="",g.a.get(e).then((function(e){t.cards=e.data,t.loader_class="hide"}))},get_img:function(t){return"https://storage.googleapis.com/ygoprodeck.com/pics/".concat(t,".jpg")},right_click:function(t,e){t.preventDefault(),this.$refs.deck.add_card(this.$refs.deck.get_deck_id(e.type),e)}},mounted:function(){this.update_deck_list()},props:{guild:String,user:String}},L=J,z=(r("23c2"),Object(f["a"])(L,C,y,!1,null,"2440f05a",null)),q=z.exports;a["default"].use(n["a"]);var F=[{path:"/collection/:guild/:user",name:"Collection",component:k,props:!0},{path:"/deckbuilder/:guild/:user",name:"DeckBuilder",component:q,props:!0}],W=new n["a"]({routes:F}),G=W,I=r("2f62");a["default"].use(I["a"]);var R=new I["a"].Store({state:{},mutations:{},actions:{},modules:{}}),U=r("5f5b"),Y=r("b1e0");r("f9e3"),r("2dd8");a["default"].config.productionTip=!1,a["default"].use(U["a"]),a["default"].use(Y["a"]),new a["default"]({router:G,store:R,render:function(t){return t(i["default"])}}).$mount("#app")},9104:function(t,e,r){},a990:function(t,e,r){"use strict";r("b5c9")},b5c9:function(t,e,r){},bd37:function(t,e,r){},ceca:function(t,e,r){"use strict";r("bd37")},cf05:function(t,e,r){t.exports=r.p+"img/logo.996edef6.png"}});
//# sourceMappingURL=app.595f73cc.js.map